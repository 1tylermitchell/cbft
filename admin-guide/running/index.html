<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

        <title>Running cbft - cbft Technical Documentation (v0.1 DP)</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">cbft Technical Documentation (v0.1 DP)</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developer's Guide <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../dev-guide/overview">Developer's guide overview</a>
                        </li>
                    
                        <li >
                            <a href="../../dev-guide/concepts">Key concepts</a>
                        </li>
                    
                        <li >
                            <a href="../../dev-guide/index-definitions">Index definitions</a>
                        </li>
                    
                        <li >
                            <a href="../../dev-guide/index-queries">Index queries</a>
                        </li>
                    
                        <li >
                            <a href="../../dev-guide/performance">Performance</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../../api-ref">API Reference</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Administrator's Guide <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../overview">Administrator's guide overview</a>
                        </li>
                    
                        <li >
                            <a href="../command">cbft command-line</a>
                        </li>
                    
                        <li >
                            <a href="../planning">Planning your deployment</a>
                        </li>
                    
                        <li class="active">
                            <a href=".">Running cbft</a>
                        </li>
                    
                        <li >
                            <a href="../clustering">Clustering cbft</a>
                        </li>
                    
                        <li >
                            <a href="../managing">Managing cbft</a>
                        </li>
                    
                        <li >
                            <a href="../monitoring">Monitoring cbft</a>
                        </li>
                    
                        <li >
                            <a href="../diagnosing">Diagnosing issues</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../../links">Links</a>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li >
                    <a rel="next" href="../planning">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../clustering">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#running-cbft">Running cbft</a></li>
        
            <li><a href="#cbft-dependencies">cbft dependencies</a></li>
        
            <li><a href="#data-directory">Data directory</a></li>
        
            <li><a href="#node-uuid">Node UUID</a></li>
        
            <li><a href="#bindhttp-port-numbers">BindHttp / Port numbers</a></li>
        
            <li><a href="#securing-cbft">Securing cbft</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="running-cbft">Running cbft</h1>
<p>The <a href="../..">getting started</a> guide provides a basic introduction
to starting cbft.</p>
<p>This document provides information on some additional considerations.</p>
<h2 id="cbft-dependencies">cbft dependencies</h2>
<p>The cbft program executable is designed to be a single, standalone,
self-sufficient binary image and should not require additional shared
libraries or pre-installed dependencies.</p>
<h2 id="data-directory">Data directory</h2>
<p>cbft requires a data directory where it can store and maintain local
configuration data and index data.</p>
<p>This data directory path is defined by the <code>dataDir</code> command-line
parameter.</p>
<p>If a <code>dataDir</code> is not specified, cbft will create a "data"
directory in its current working directory for its data directory.</p>
<p>Advanced users may wish to have a separate filesystem which can handle
larger data volumes and high storage I/O performance.</p>
<p>Users running in cloud-based environments may wish to consider
non-ephemeral, mounted block stores, such as EBS (Elastic Block Store)
on Amazon Web Services EC2 systems or equivalent for your cloud
hosting provider.</p>
<p>In a container-based environment, such as Docker or equivalent, users
should consider a non-ephemeral, high performance host volume for
their cbft <code>dataDir</code> data directory.</p>
<h2 id="node-uuid">Node UUID</h2>
<p>An important file stored in the data directory is the <code>cbft.uuid</code>
file.</p>
<p>The <code>cbft.uuid</code> file records the <em>Node UUID</em> of the cbft node,
which is a unique, persistent identifier for a cbft node that is
critical for clustering multiple cbft nodes together.</p>
<p>The <code>cbft.uuid</code> file must remain the same and readable across
restarts of the cbft process for cbft clustering to work properly.</p>
<p>The first time a cbft is started, with an empty data directory, cbft
will detect that the <code>cbft.uuid</code> file does not exist and will
generate a new node UUID and save it to a new <code>cbft.uuid</code> file.</p>
<p>On a restart of the cbft node, the cbft node must find the same
<code>cbft.uuid</code> file in order to have the same node UUID across
process restarts.</p>
<p>If you move the data directory (e.g., such as to move the data
directory a storage volume with more available storage space or higher
performance) be sure to also move/copy over the <code>cbft.uuid</code> file.</p>
<h2 id="bindhttp-port-numbers">BindHttp / Port numbers</h2>
<p>cbft provides a HTTP/REST API endpoint, listening on the address:port
specified by the <code>bindHttp</code> command-line parameter.</p>
<p>The default value for <code>bindHttp</code> is "0.0.0.0:8095", so the default
bind address is 0.0.0.0 and default port number is 8095.</p>
<p>For example:</p>
<pre><code>./cbft -bindHttp=0.0.0.0:8095 -server=http://cb-01:8091
</code></pre>
<p>For clustering and for remote application/client accessibility, you
must specify an actual IP address instead of the "0.0.0.0" (and also
not use "127.0.0.1"), as that supplied IP address will be used by
other cbft nodes and client applications to contact your cbft node.</p>
<p>For example, if your IP address is "10.1.1.10", then:</p>
<pre><code>./cbft -bindHttp=10.1.1.10:8095 -server=http://cb-01:8091 \
       -cfg=couchbase:http://cfg-bucket@cb-01:8091
</code></pre>
<p>The port number (e.g., 8095) must also be enabled on your firewall
systems, if any, to allow remote access.</p>
<p>Each cbft node in a cbft cluster can have its own, different port
number.</p>
<p>Multiple cbft nodes can be run on a single machine and clustered
toegther, by giving each cbft node its own unique port number.  This
can be useful for testing.</p>
<h2 id="securing-cbft">Securing cbft</h2>
<p>WARNING / TODO: cbft Developer Preview release currently does not
provide security features (e.g., encryption, authentication).</p>
<hr />
<p>Copyright (c) 2015 Couchbase, Inc.</p>
</div>
        </div>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/prettify-1.0.min.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>