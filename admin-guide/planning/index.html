<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

        <title>Planning your deployment - cbft Technical Documentation (0.0 DP)</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/prettify-1.0.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">cbft Technical Documentation (0.0 DP)</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developer's Guide <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../dev-guide/overview">Developer's guide overview</a>
                        </li>
                    
                        <li >
                            <a href="../../dev-guide/concepts">Key concepts</a>
                        </li>
                    
                        <li >
                            <a href="../../dev-guide/index-definitions">Index definitions</a>
                        </li>
                    
                        <li >
                            <a href="../../dev-guide/index-queries">Index queries</a>
                        </li>
                    
                        <li >
                            <a href="../../dev-guide/performance">Performance</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../../api-ref">API Reference</a>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Administrator's Guide <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../overview">Administrator's guide overview</a>
                        </li>
                    
                        <li >
                            <a href="../command">cbft command-line</a>
                        </li>
                    
                        <li class="active">
                            <a href=".">Planning your deployment</a>
                        </li>
                    
                        <li >
                            <a href="../running">Running cbft</a>
                        </li>
                    
                        <li >
                            <a href="../clustering">Clustering cbft</a>
                        </li>
                    
                        <li >
                            <a href="../managing">Managing cbft</a>
                        </li>
                    
                        <li >
                            <a href="../monitoring">Monitoring cbft</a>
                        </li>
                    
                        <li >
                            <a href="../diagnosing">Diagnosing issues</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="../../links">Links</a>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li >
                    <a rel="next" href="../command">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../running">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#planning-your-deployment">Planning your deployment</a></li>
        
            <li><a href="#development">Development</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="planning-your-deployment">Planning your deployment</h1>
<p>This document provides considerations on how a cbft deployment might
be planned, across different environments and application lifecycle
stages:</p>
<ul>
<li>from development</li>
<li>to staging/test</li>
<li>and to production</li>
</ul>
<h2 id="development">Development</h2>
<p>Developers are expected to likely run cbft in "single node" fashion or
in non-clustered <em>simple</em> mode, directly on their personal development
workstations or laptop machines.</p>
<p>Developers can write applications which query their single, local cbft
node using their favorite web-stack technologies and REST client
software to access their cbft node.</p>
<p>Similar to how developers would have separate scripts to initialize a
database with tables or buckets or schemas -- the so-called "DDL"
(data definition language) instructions of "CREATE TABLE..." / "CREATE
INDEX...", it is expected that developers would also code up separate
scripts to create cbft index definitions.</p>
<p>These index definition scripts would then often be checked into the
developer's source code control systems (e.g., like svn or git or
mercurial or equivalent), for repeatability and for sharability with
colleagues.</p>
<p>cbft is designed so that index defintions which developers define and
create on their local, personal development workstations or laptops
can be deployed to production clusters without any changes to
application code that depends on those indexes.</p>
<p>Of note, though, developer's application code should ideally be
defensively coded to expect error responses in cases when cbft is not
running or has underlying error conditions (e.g., storage systems are
full; network is down; etc).</p>
<h3 id="staging-and-test">Staging and test</h3>
<p>Testing engineers would likely use the index definition scripts
provided by application developers in order to setup and configure
their testing and staging cbft clusters.</p>
<p>For safety of operations, it is recommended that similar to other
databases and external indexing systems, that testing/staging cbft
clusters not uses direct production data sources, but should instead
try to use independent snapshots or copies of production data sources
for any validation and testing needs.</p>
<p>The testing/staging cbft clusters would also be a good place to
reconfirm any sizing assumptions.  For example, perhaps an updated
index definition utilizes new features of the bleve full-text engine,
but those new features require more resources (cpu, memory, storage)
and these changes would ideally need to be accounted for and
reconfirmed before "going live" with production changes.</p>
<h3 id="production">Production</h3>
<p>Deployment of index definitions or updated index definitions to
production clusters would ideally follow the same steps that were
tested in testing/staging cbft clusters.</p>
<p>One useful technique would be to utilize cbft's index alias feature to
allow for updated indexes to be be built up in the background without
affecting existing application queries.  Applications would still
continue to query, through the alias, to previous index versions.
When a new index version is finally built up enough and ready for
querying, an administrator would then redefine her index alias to
point at the new, target index version which was built with the
updated index definition.</p>
<hr />
<p>Copyright (c) 2015 Couchbase, Inc.</p>
</div>
        </div>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/prettify-1.0.min.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>