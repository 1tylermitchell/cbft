<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="./img/favicon.ico">

        <title>cbft Technical Documentation (v0.0 DP)</title>

        <link href="./css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="./css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="./css/prettify-1.0.css" rel="stylesheet">
        <link href="./css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href=".">cbft Technical Documentation (v0.0 DP)</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developer's Guide <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="dev-guide/overview/">Developer's guide overview</a>
                        </li>
                    
                        <li >
                            <a href="dev-guide/concepts/">Key concepts</a>
                        </li>
                    
                        <li >
                            <a href="dev-guide/index-definitions/">Index definitions</a>
                        </li>
                    
                        <li >
                            <a href="dev-guide/index-queries/">Index queries</a>
                        </li>
                    
                        <li >
                            <a href="dev-guide/performance/">Performance</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="api-ref/">API Reference</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Administrator's Guide <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="admin-guide/overview/">Administrator's guide overview</a>
                        </li>
                    
                        <li >
                            <a href="admin-guide/command/">cbft command-line</a>
                        </li>
                    
                        <li >
                            <a href="admin-guide/planning/">Planning your deployment</a>
                        </li>
                    
                        <li >
                            <a href="admin-guide/running/">Running cbft</a>
                        </li>
                    
                        <li >
                            <a href="admin-guide/clustering/">Clustering cbft</a>
                        </li>
                    
                        <li >
                            <a href="admin-guide/managing/">Managing cbft</a>
                        </li>
                    
                        <li >
                            <a href="admin-guide/monitoring/">Monitoring cbft</a>
                        </li>
                    
                        <li >
                            <a href="admin-guide/diagnosing/">Diagnosing issues</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li >
                    <a href="links/">Links</a>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                <li class="disabled">
                    <a rel="next" >
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="dev-guide/overview/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#what-is-cbft">What is cbft</a></li>
        
    
        <li class="main "><a href="#getting-started">Getting started</a></li>
        
            <li><a href="#prerequisites">Prerequisites</a></li>
        
            <li><a href="#getting-cbft">Getting cbft</a></li>
        
            <li><a href="#running-cbft">Running cbft</a></li>
        
            <li><a href="#the-web-admin-ui">The web admin UI</a></li>
        
            <li><a href="#creating-a-full-text-index">Creating a full-text index</a></li>
        
            <li><a href="#querying-your-full-text-index">Querying your full-text index</a></li>
        
    
        <li class="main "><a href="#where-to-go-next">Where to go next</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="what-is-cbft">What is cbft</h1>
<p>cbft is distributed, clusterable, data indexing server.</p>
<p>It includes the ability to manage full-text and other kinds of indexes
for JSON documents that you've created and stored into a Couchbase
bucket and other data sources.</p>
<p>The indexes that cbft manages can be automatically distributed across
multiple, clustered cbft server processes on different server machines
to support larger indexes, higher performance and higher availability.</p>
<h1 id="getting-started">Getting started</h1>
<h2 id="prerequisites">Prerequisites</h2>
<p>You should have a Couchbase Server (3.0+) already installed and
running somewhere.</p>
<p>You should also have a bucket in Couchbase Server with JSON documents
that you'd like to index.</p>
<p>For example, you can have Couchbase Server create and populate a
<code>beer-sample</code> bucket of sample JSON documents.</p>
<h2 id="getting-cbft">Getting cbft</h2>
<p>Download a pre-built cbft from the
<a href="https://github.com/couchbaselabs/cbft/releases">releases</a> page...</p>
<ul>
<li><a href="https://github.com/couchbaselabs/cbft/releases">https://github.com/couchbaselabs/cbft/releases</a></li>
</ul>
<p>You can use your favorite web browser to download.</p>
<p>Or, you can use <code>wget</code> or equivalent command-line tool.  For example,
for mac OSX...</p>
<pre><code>wget https://github.com/couchbaselabs/cbft/releases/download/v{X.Y.Z}/cbft-v{X.Y.Z-AAA}.macos.amd64.tar.gz
</code></pre>
<p>Note: some platforms support both <code>cbft-full</code> and <code>cbft</code>
builds.</p>
<ul>
<li>
<p>The <code>cbft-full</code> builds are currently compiled with some
  platform-specific advanced features (text stemmers, etc).</p>
</li>
<li>
<p>The <code>cbft</code> basic builds are exactly the same across all
  platforms, for deployment consistency.</p>
</li>
</ul>
<p>For the purposes of these getting started steps, let's just download
<code>cbft</code> basic builds.</p>
<p>Next, uncompress what you downloaded...</p>
<pre><code>tar -xzf cbft-v{X.Y.Z-AAA}.macos.amd64.tar.gz
</code></pre>
<p>A quick way to make sure it worked is to try the command-line help...</p>
<pre><code>./cbft.macos.amd64 --help
</code></pre>
<p>For the rest of this documentation, we'll just refer to the cbft
executable as <code>./cbft</code> rather than some platform specific name
like <code>./cbft.macos.amd64</code>.</p>
<h2 id="running-cbft">Running cbft</h2>
<p>Start cbft, pointing it to your Couchbase Server as its datasource
server...</p>
<pre><code>./cbft -server http://localhost:8091
</code></pre>
<p>Note: cbft defaults to using a directory named "data" as its data
directory, which it will create in the current working directory if it
does not exist yet.  You can change the data directory path by using
the <code>-dataDir</code> command-line parameter.</p>
<h2 id="the-web-admin-ui">The web admin UI</h2>
<p>Next, point your web browser to cbft's web admin UI...</p>
<pre><code>http://localhost:8095
</code></pre>
<p>In your web browser, you should see a "Welcome to cbft" page in the
web admin UI.</p>
<p>That welcome page will list all the indexes that you've defined; of
course, there should be no indexes at this point.</p>
<h2 id="creating-a-full-text-index">Creating a full-text index</h2>
<p>On the Indexes listing page (the "Welcome to cbft" page), click on the
<code>New Index</code> button.</p>
<p>A form should appear where you can define your new index
configuration.</p>
<p>Next, let's fill in the form fields...</p>
<h3 id="index-name">Index Name</h3>
<p>Each index needs a unique name.</p>
<p>In the Index Name field, type in a name, such as "test-index".</p>
<p>Only alphanumeric characters, hyphens and underscores are allowed for
index names.</p>
<h3 id="index-type">Index Type</h3>
<p>The Index Type specifies what kind of index that cbft will create.</p>
<p>From the Index Type dropdown, choose <code>full-text (bleve)</code>.</p>
<p>As soon as you make an Index Type dropdown selection, some additional,
type-dependent input fields should appear (Mapping and Store), but
let's ignore them for now and use the provided defaults.</p>
<h3 id="source-type">Source Type</h3>
<p>The Source Type specifies what kind of datasource will be used for the
index.</p>
<p>From the Source Type dropdown, choose <code>couchbase</code>.</p>
<p>As soon as you make a Source Type dropdown selection, some additional
type-dependent input fields (such as Source Name) should
appear.</p>
<h3 id="source-name">Source Name</h3>
<p>Since our Source Type is <code>couchbase</code>, the Source Name should be
name of a bucket.</p>
<p>Next, type in your bucket's name into the Source Name field.</p>
<p>For example, to index the "default" bucket from your Couchbase
server, type in a Source Name of "default".</p>
<p>NOTE: if your bucket has a password, you can supply the password by
clicking on the <code>Show advanced settings</code> checkbox, which will
display the <code>Source Params</code> JSON textarea.  Then, fill in the
<code>authUser</code> field in the JSON with the name of the Couchbase bucket
and the <code>authPassword</code> field with the bucket's password.</p>
<h3 id="your-new-index">Your new index</h3>
<p>Finally, click the <code>Create Index</code> button.</p>
<p>You should see a summary page of your new full-text index.</p>
<p>The <code>Document Count</code> field on the index summary page is a snapshot
of how many documents have been indexed so far.  You can click on the
<code>Refresh</code> button next to the Document Count in order to see
indexing progress.</p>
<h2 id="querying-your-full-text-index">Querying your full-text index</h2>
<p>Next, click on the <code>Query</code> tab.</p>
<p>In the query field, type in a query term.</p>
<p>Hit enter/return to execute your first cbft full-text query!</p>
<p>You should see query results appearing below the query field.</p>
<p>That's about it for getting started.</p>
<p>The web admin UI has more screens and features, so be sure to click
around and explore!</p>
<h1 id="where-to-go-next">Where to go next</h1>
<p>Please see
the <a href="dev-guide/overview/">Developer's Guide</a>,
the <a href="api-ref/">API Reference</a> and
the <a href="admin-guide/overview/">Administrator's Guide</a>.</p>
<hr />
<p>Copyright (c) 2015 Couchbase, Inc.</p>
</div>
        </div>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="./js/bootstrap-3.0.3.min.js"></script>
        <script src="./js/prettify-1.0.min.js"></script>
        <script src="./js/base.js"></script>
    </body>
</html>